link(href="https://fonts.googleapis.com/css?family=Crimson+Text&display=swap" rel="stylesheet")
link(rel="stylesheet", href="/css/dracula.css")
link(href='https://fonts.googleapis.com/css?family=Pompiere|Vast+Shadow&display=swap' rel='stylesheet')
link(rel="stylesheet", href="/css/nice-select.css")
script(src="/js/jquery.nice-select.min.js")

script.  
  hljs.configure({   
      languages: ['javascript', 'python','c','c++','c#']
  });

style.
  .card{
        margin-top:10px;
        box-sizing: border-box;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.13);
        width:850px;
      }
      .card:hover .edit{
        display: block;
        content: "edit";
      }
      .edit{
        display: none;
      }
      .text{
        display: none;
      }
      .ed:hover .text{
        content: "edit";
        visibility: ;
      }
      label,p{
        font-family: 'Crimson Text', serif;
        font-size:20px;
      }
      .hovering3{

        color:black;
        border-color:black;
      }

      .hovering3:hover{
        color:#00bcd4;
        background-color:white;
        border-color:#00bcd4;
      }
      .mq_card{
        font-family:'Nunito', sans-serif!important;
        font-size:15px!important;
        letter-spacing:0.5px!important;
      }
      .option-disp {
        position:relative;
        border-radius:20px;
        width:auto;
        height:35px;
        font-size:15px;
        text-align:center;
        left:5px;
      }

  
.container
  
  //  Button to Open the Modal 
  button.btn.btn-primary.ml-2.mb-4.font-weight-bold(type='button' data-toggle='modal' data-target='#myModal').
    Add Question
    
  //  The Modal 
  .modal#myModal
    .modal-dialog.modal-xl
      .modal-content
        form#ques(onsubmit="return submitFormAdd()")
          .modal-header
            h4.modal-title New Question  
            button.close(type='button' data-dismiss='modal') ×
          //  Modal body 
          .modal-body
              .box
                table.table
                  tbody
                    tr
                      td(style="width:150px;")
                        label Question name:
                      td
                        input#name(type='text' name='name' required style="width:50%").form-control
                    tr
                      td
                        label(for='difficult') Difficulty:
                      td
                        //- input#difficulty(type='text' name='description' required).form-control
                        .form-group(style="width:50%")
                          select#difficult.form-control(name='difficulty')
                            option(value='Easy') Easy
                            option(value='Medium') Medium
                            option(value='Hard') Hard
                    tr
                      td
                        label(for='description') Description:
                      td
                        input#description(type='text' name='description' required).form-control
                    tr
                      td(style="width:150px;")
                        label Problem Statement:
                      td
                        div#statement-editor(style="min-height:120px;height:auto;")
                        script.
                          const editor = new Quill('#statement-editor', {
                          modules: { 
                          syntax: true ,
                          toolbar: [
                          [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
                          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],    
                          ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
                          ['blockquote'],
                          [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                          [{ 'script': 'sub'}, { 'script': 'super' }], 
                          ['image', 'code-block','formula'],     			                // superscript/subscript
                          [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
                          [{ 'direction': 'rtl' }],                         // text direction
                          [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
                          //- [{ 'font': [] }],
                          [{ 'align': [] }],
                          ['clean'] 
                              ] },
                              theme: 'snow'
                            });
                    
                    tr
                      td(style="width:150px;")
                        label Constraints:
                      td
                        textarea.form-control#constraints(rows='5' name='constraints' cols='50')
                
                    tr
                      td(style="width:150px;")
                        label Input format:
                      td
                        textarea.form-control#i_format(rows='5' name='i_format' cols='50' required)
          
                    tr
                      td(style="width:150px;")
                        label Output format:
                      td
                        textarea.form-control#o_format(rows='5' name='o_format' cols='50' required)
                hr    
              
                #samplecase
                  label.tc Sample Testcases:
                  input#btSampleAdd.bt.btn.btn-info.btn-sm(type='button' value='Add Sample Case' style="margin-right:20px;margin-left:20px;")
                  input#btSampleRemove.bt.btn.btn-danger.btn-sm(type='button' value='Remove Testcase')
                  .t_case
                    p#s_no1 Sample Testcase 1
                    textarea.form-control.input#i_sample1(rows='5' name='i_sample1' cols='50' required placeholder='Input' style="margin-bottom:10px;")
                    textarea.form-control.input#o_sample1(rows='5' name='o_sample1' cols='50' required placeholder='Output')
                    p Explanation
                    textarea.form-control.ex_box#explaination1(name='explanation' rows='5' cols='107' style="margin-bottom:10px" required)
                #testcase
                  label.tc Testcases:
                  input#btAdd.bt.btn.btn-info.btn-sm(type='button' value='Add Testcase' style="margin-right:20px;margin-left:20px;")
                  input#btRemove.bt.btn.btn-danger.btn-sm(type='button' value='Remove Testcase')
                  br
                  .t_case
                    p#t_no1 Testcase 1
                    textarea.form-control.input#i_testcase1(rows='5' name='i_testcase1' cols='50' required placeholder='Input' style="margin-bottom:10px;")
                    textarea.form-control.input#o_testcase1(rows='5' name='o_testcase1' cols='50' required placeholder='Output')
                    p#p_no1 Points
                    input.form-control(style="width:15%;" name="points" id="points1" type="text" placeholder="Ex: 10")
                textarea(name="statement" id="es" style="display:none;")
          .modal-footer
            input.btn.btn-success(type='submit' value="Add")
            button.btn.btn-secondary(type='button' data-dismiss='modal') Close


- const ques=questions;
each i in ques
  .row(style="margin-bottom:15px")
    .col-lg-9.col-md-9(style="color:#616161")
      .shadow.p-3.rounded(style='width:700px; margin-left: 25px;background-color:#ECEFF1;')
        h3(style="font-family: 'Palanquin Dark';font-size:34px;letter-spacing:0.4px")  #{i.name} 
        .row
          .col-lg-10.col-md-10
            p(style="font-family: 'Pompiere', cursive;font-size:20px;padding-top:8px") #{i.description}
        .row
          .col-lg-3.col-md-3(style='')
            label.mq_card(style="font-weight:bold") Difficulty: 
            label.mq_card #{i.difficulty}
          .col-lg-3.col-md-3(style='')
            label.mq_card(style="font-weight:bold" for='points') Points:
            label.mq_card #{i.totalPoints}
          .col-lg-6.col-md-6
            button.btn.btn-outline-danger(style='font-weight:bold;border-radius:20px;' data-toggle="modal" data-target="#deleteQuestion" data-id=i.qid data-name=i.name) 
              i.fas.fa-trash 
              | &nbsp; Delete
            button.btn.btn-outline-primary(style='font-weight:bold;border-radius:20px;' data-toggle="modal" data-target="#edit" data-id=i.qid)
              i.fas.fa-edit 
              | &nbsp;Edit
            button.btn.btn-outline-success(style="font-weight:bold;border-radius:20px;" data-toggle="modal" data-target="#solution" data-id=i.qid)
              i.fad.fa-key
              | &nbsp; Solution
  br
  //- .container
  //-   .card(style='background-color: rgba(171, 188, 219, 0.616);')
  //-     .card-body
  //-       h4.card-title #{i.name}
  //-       p.card-text #{i.description}
  //-       .edit(style='float:right;')
  //-         a.btn.btn-labeled.btn-primary(href='' role='button')
  //-           span.btn-label
  //-             i.fas.fa-edit
  //-           | Edit
  //-         a.btn.btn-labeled.btn-danger(href='' role='button')
  //-           span.btn-label
  //-             i.fas.fa-trash
  //-           | Delete
  //-         //- a(href='#')
          //-   | EDIT
          //-   i.ed.fas.fa-edit(style='font-size:15px;color:rgb(0, 0, 255); ')
.container
  .modal#edit
      .modal-dialog.modal-xl
          form#ques-edit(onsubmit="return editForm()")
              .modal-content
                  .modal-header
                      h4.modal-title Edit Question  
                      button.close(type='button' data-dismiss='modal') ×
                      
                  .modal-body
                          p#edit_info(style="float:center;")
                          .box
                              table.table
                                  tbody
                                      tr
                                          td(style="width:150px;")
                                              label Question name:
                                          td
                                              input#name-e(type='text' name='name' required style="width:50%").form-control
                                      tr
                                          td
                                              label(for='difficult-e') Difficulty
                                          td
                                          
                                              .form-group
                                                select#difficult-e.form-control(name='difficulty')
                                                  option(value='Easy') Easy
                                                  option(value='Medium') Medium
                                                  option(value='Hard') Hard
                                      tr
                                          td
                                            label(for='description-e') Description:
                                          td
                                            input#description-e(type='text' name='description' required).form-control                                     
                                      tr
                                          td(style="width:150px;")
                                              label Problem Statement:
                                          td
                                              div#statement-editor-edit(style="min-height:120px;height:auto;")
                                              script.
                                                  const editor_edit = new Quill('#statement-editor-edit', {
                                                  modules: { toolbar: [
                                                  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
                                                  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],    
                                                  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
                                                  ['blockquote'],
                                                  [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                                                  [{ 'script': 'sub'}, { 'script': 'super' }], 
                                                  ['image', 'code-block','formula'],     			                // superscript/subscript
                                                  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
                                                  [{ 'direction': 'rtl' }],                         // text direction
                                                  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
                                                  [{ 'font': [] }],
                                                  [{ 'align': [] }],
                                                  ['clean'] 
                                                      ] },
                                                      theme: 'snow'
                                                      });
                                          
                                      tr
                                          td(style="width:150px;")
                                              label Constraints:
                                          td
                                              textarea#constraints-e.form-control(rows='5' name='constraints' cols='50')
                                  
                                      tr
                                          td(style="width:150px;")
                                              label Input format:
                                          td
                                              textarea.form-control#i_format-e(rows='5' name='i_format' cols='50' required)
                              
                                      tr
                                          td(style="width:150px;")
                                              label Output format:
                                          td
                                              textarea.form-control#o_format-e(rows='5' name='o_format' cols='50' required)
                              hr    
                              #samplecase-e
                                  label.tc Sample Testcases:
                                  input#btSampleAdd_e.bt.btn.btn-info.btn-sm(type='button' value='Add Sample Case' style="margin-right:20px;margin-left:20px;")
                                  input#btSampleRemove_e.bt.btn.btn-danger.btn-sm(type='button' value='Remove Testcase')
                                  .t_case
                                      p Sample Testcase 1
                                      textarea.form-control.input#ei_sample1(rows='5' name='i_sample1' cols='50' required placeholder='Input' style="margin-bottom:10px;")
                                      textarea.form-control.input#eo_sample1(rows='5' name='o_sample1' cols='50' required placeholder='Output')
                                      p Explanation
                                      textarea.form-control.ex_box#explanation_edit(name='explanation' rows='5' cols='107' style="margin-bottom:10px" required)
                              #testcase-e
                                  label.tc Testcases:
                                  input#btAdd-e.bt.btn.btn-info.btn-sm(type='button' value='Add Testcase' style="margin-right:20px;margin-left:20px;")
                                  input#btRemove-e.bt.btn.btn-danger.btn-sm(type='button' value='Remove Testcase')
                                  br
                                  .t_case
                                      p Testcase 1
                                      textarea.form-control.input#ei_testcase1(rows='5' name='i_testcase1' cols='50' required placeholder='Input' style="margin-bottom:10px;")
                                      textarea.form-control.input#eo_testcase1(rows='5' name='o_testcase1' cols='50' required placeholder='Output')
                                      p Points
                                      input.form-control(style="width:15%;" name="points" id="epoints1" type="text" placeholder="Ex: 10" required)
                              
                              textarea(name="statement" id="es_edit" style="display:none;")
                              input#qid(type="text", style="display:none;" value="")
                      
                  .modal-footer
                      input.btn.btn-success(type='submit' value="SAVE")
                      button.btn.btn-secondary(type='button' data-dismiss='modal') Cancel
                      

.modal.fade#deleteQuestion(tabindex ="-1" role="dialog" )
    .modal-dialog.modal-sm
        .modal-content
            .modal-header
                h4.modal-title Delete Question
            .modal-body
                p Delete the following question?
                #dbodyQ
            .modal-footer
                button.btn.btn-danger(type='button' data-dismiss='modal' onclick="deleteQ()") Delete
                button.btn.btn-secondary(type='button' data-dismiss='modal') Close

.modal.fade#solution(tabindex ="-1" role="dialog" )
    .modal-dialog.modal-lg
        form#formSolution(onsubmit="return solution()")
          .modal-content
              .modal-header
                h4.modal-title Add a Solution
              .modal-body
                .form-group.row
                  label.col-sm-2.fontStyle(for="languageCode") Language:
                  .col-sm-4
                    select#languageCode.option-disp(name='language' ,required)
                      option(selected,disabled,value="") Select Language
                      option(value='C') C
                      option(value='C++') C++
                      option(value='Java') Java
                      option(value='Python') Python
                      option(value='Javascript') Javascript
                      option(value='C#') C#
                .form-group.row
                  label.fontStyle.col-sm-2(for="solutionCode") Source Code:
                  .col-sm-9
                    textarea#solutionCode.form-control(style="min-height:150px;resize:none;overflow:hidden" oninput="auto_grow(this)" required cols="30", rows="3" value="" name="sourceCode")
                p(style="display:none;")#qidForSolution
              .modal-footer
                input.btn.btn-success(type='submit' value="Save")
                button.btn.btn-secondary(type='button' data-dismiss='modal') Close

script.
  function auto_grow(element) {
      element.style.height = "150px";
      element.style.height = (element.scrollHeight)+"px";
  }
  $(document).ready(function() {
      $('#difficult-e,#difficult,#languageCode').niceSelect();
      
      });
  const curl = "#{contest.url}"
script(src="/js/addquestion.js")
  
  