if(session.staff_id)
    include teacher/nav
else
    include navbar

head
    title Assignment Leaderboard
    link(rel='stylesheet' type='text/css' href='/css/lb_util.css')
    link(rel='stylesheet' type='text/css' href='/css/lb_main.css')
    link(rel="stylesheet", href="/fontawesome/all.min.css")
    script(src="/fontawesome/all.min.js")

-function two(x) {return ((x>9)?"":"0")+x}
-function three(x) {return ((x>99)?"":"0")+((x>9)?"":"0")+x}

-function time(ms) {var sec = Math.floor(ms/1000);  ms = ms % 1000;  t = three(ms);  var min = Math.floor(sec/60);  sec = sec % 60;  t = two(sec) + ":" + t;  var hr = Math.floor(min/60);  min = min % 60;  t = two(min) + ":" + t; var day = Math.floor(hr/60);  hr = hr % 60;  t = two(hr) + ":" + t;   return t;  }
 
body
  .WRAPPER
    div(style="margin-left:25px;margin-top:25px")
      nav(aria-label='breadcrumb' style="color:black;width:56.5%;")
          ol.breadcrumb(style="padding-left:20px;background-color:white")
            li.breadcrumb-item
              a(href='/contest') Assignment
            li.breadcrumb-item
              a(href='/contest/'+contest.url)=contest.name
            li.breadcrumb-item.active(aria-current='page') Assignment Leaderboard
    h1.text-center.pb-3 Assignment Leaderboard
    .limiter
      .container-table100
        .wrap-table100
          .table100
            table
              thead
                tr.table100-head
                  th.column1 
                    i.fal.fa-flag-checkered 
                    | &nbsp; RANK
                  th.column2 
                    i.fal.fa-id-card
                    | &nbsp; USN/ID
                  th.column3 
                    i.fal.fa-user 
                    | &nbsp; Name
                  th.column4
                    i.fal.fa-bullseye-arrow
                    | &nbsp; POINTS
                  th.column5 
                    i.fal.fa-clock
                    | &nbsp; TIME (HH:MM:SS:MS)
                  // <th class="column6">Total</th>
              tbody
                each i,j in assignment.leaderboard
                  tr
                    td.column1
                      if(j+1 == 1)
                        i.fad.fa-trophy-alt.fa-2x(style="color:#FFDB19")
                      else if(j+1 == 2)
                        i.fad.fa-trophy-alt.fa-2x(style="color:#c6c6c6")
                      else if(j+1 == 3)
                        i.fad.fa-trophy-alt.fa-2x(style="color:#E67300")
                      else
                        div(style="padding-left:12px;font-weight:bold") #{j+1}
                    td.column2
                      a(href="viewProfile/"+i.usn+"") #{i.usn}
                    td.column3 #{i.name} 
                    td.column4 #{i.points}
                    td.column5 #{time(i.timestamp)}
    .push1
    .push
  footer.bg-dark(class="FOOTER")
    div.text-center.text-light.font-weight-bold.pt-3 ELAB @ HKBK CSE DEPT. 2020
