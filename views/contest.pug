extends navbar


block append head
  - navClass = "bg-fade trans";
  - navStyle = "";
  title Contest
  link(rel="stylesheet", href="/css/contest_card.css")
  link(rel="stylesheet", href="/assets/css/n.css")
  link(rel='stylesheet' type='text/css' href='card.css')
  script(src="/js/contest_card.js")
  script(src="/js/typewriter.js")
  style.
    .trans{
    position:absolute;
    right:60px;
    left:60px;
    padding-top:30px;
    background:transparent;
    background-color:transparent!important;
    }
    body{
      background-color:#f5f5f0;
    }
    .flex-container {
    display: flex;
    flex-flow: row wrap;
    align-content:flex-start;
    }

  - active.contest="active"
  
block content
    section.module.parallax.parallax-1(data-type='background' data-speed='10')
      .parallax-container
        h2.typewrite(href='' data-period='2000' data-type='[ "CONTESTS" ]' style="font-weight:bold")
          span.wrap
    - const month = ["January","February","March","April","May","June","July","August","September","October","November","December"];
    -function nth(n){return n+([,'st','nd','rd'][n%100>>3^1&&n%10]||'th')}
    .row.flex-container(style="width:100%")
      each i in contest
        .ft-contest 
          .ft-contest__thumb
            //-span(id="close-modal")
                i.ion.ion-md-close
            //-h3 Today's Featured contest
            img(src="download.png", alt=contest.name)
          .ft-contest__content
            header.content__header
              .row-wrapper
                  h2(class="contest-title") #{ i.name}
                  .user-rating
              ul.contest-details
                  li.contest-details-item
                      i.ion.ion-ios-clock-outline
                      span.value=Math.abs(i.timings.ends - i.timings.starts) / 36e5
                      span.title Hours
                  li.contest-details-item
                      i.ion.ion-ios-book-outline
                      span.value #{i.questions.length}
                      span.title Questions
                  li.contest-details-item
                      i.ion.ion-ios-person-outline
                      span.value=nth(i.timings.starts.getDate())
                      span.title=month[i.timings.starts.getMonth()]
            p.description=i.description
            footer.content__footer
                a(href="/contest/"+i.url) View Contest