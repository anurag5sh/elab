html
include nav
head
  link(rel='stylesheet' type='text/css' href='assets/css/light.css')

  title profile
  
body
  br
  .content(style="color:#9A9A9A;")
    .container-fluid
      .row
        .col-md-8
          .card
            .header
              h4.title(style="margin-top:15px;margin-left:15px;margin-bottom:8px;") Edit Profile
            .content
              form#profile()
                .row
                  .col-md-4
                    .form-group
                      label USN
                      input.form-control(type='text' disabled placeholder='' value=teacher.staff_id)
                  .col-md-4
                    .form-group
                      label First Name
                      input.form-control(type='text' disabled placeholder='First Name' value=teacher.name)    
                  .col-md-4
                    .form-group
                      label Last Name
                      input.form-control(type='text' disabled placeholder='Last Name' value='') 
                .row
                  .col-md-6
                    .form-group
                      label Priamry Email
                      input.form-control(type='email' disabled placeholder='' value=teacher.email)
                  .col-md-6
                    .form-group
                      label(for='exampleInputEmail1') Recovery Email
                      input.form-control(type='email' name="recovery_email" placeholder='Email' value=teacher.recovery_email)
                .row
                  .col-md-12
                    .form-group
                      label About Me
                      textarea#about_me.form-control(rows='5' name="about_me" placeholder='Here can be your description' )
                button.btn.btn-info.btn-fill.pull-right(type='button' id="update-profile") Update Profile
                .clearfix
        .col-md-4
          .card.card-user
            .image
              img(src='https://ununsplash.imgix.net/photo-1431578500526-4d9613015464?fit=crop&fm=jpg&h=300&q=75&w=400' alt='...')
            .content
              .author
                a(href='#')
                  img.avatar.border-gray(src='images/face-3.jpg' alt='...')
                  h4.title #{teacher.name}
                    br
                    small #{teacher.staff_id}
                p.description.text-center #{teacher.about_me}

            hr
            br

  .content(style="color:#9A9A9A;")
    .container-fluid
      .row
        .col-md-3
          .card
            .header
              h4.title(style="margin-top:15px;margin-left:15px;margin-bottom:8px;") Update Password
            .content
              form#password
                .row
                  .col-md-11
                    .form-group
                      label Current Password
                      input.form-control(type='password' name ="current_password" placeholder='' value="")
                .row
                  .col-md-11
                    .form-group
                      label New Password
                      input.form-control(type='password' name = "new_password" placeholder='' value="")
                .row
                  .col-md-11
                    .form-group
                      label Re-enter New Password
                      input.form-control(type='password' name = "re_entered_password"  placeholder='' value="")
                button.btn.btn-info.btn-fill.pull-right(type='button' id="update-password") Update Password
                .clearfix

script.
  $(document).ready(function(){
    $("#update-profile").click(function(){

      $.post("/profile",$("#profile").serialize(),
      function(data,status){
        toastr.success(data);
      });

    });

    $("#update-password").click(function(){

      $.post("/password",$("#password").serialize(),
      function(data,status){
        toastr.success(data);
        //- alert(data);
      }).fail(function(data, status, error){
        toastr.error(data.responseText);
      });

    });

  });
  $("#about_me").val("#{teacher.about_me}");

